<!DOCTYPE html>
<html class="no-js" lang="en-US" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="description" content="Lambda expressions and Stream API with Groovy or JAVA8">
    <meta name="author" content="Jupil Hwang (@jupil_hwang)">

    <meta name="keyword" content="">
    <link rel="shortcut icon" href="https://namoo4u.github.io/favicon.ico">

    <title>Lambda expressions and Stream API with Groovy or JAVA8 &middot; Just Do It!! YOLO</title>

   	
    
        <link rel="stylesheet" href="https://namoo4u.github.io//css/theme/yeti.css">
    

    <link rel="stylesheet" href="https://namoo4u.github.io//css/font-awesome.min.css">

   	
   	<link rel="stylesheet" href="https://namoo4u.github.io//css/style.css">


    
    <script src="https://namoo4u.github.io//js/jquery.min-2.1.4.js"></script>
    <script src="https://namoo4u.github.io//js/bootstrap.min-3.3.5.js"></script>

    
    <link href="" rel="alternate" type="application/rss+xml" title="Just Do It!! YOLO" />
</head>
<body lang="en-US">
    
    <div class="container">
    <div class="row">
        <div class="navbar navbar-default " role="navigation">
            <div class="navbar-header">
                <a class="navbar-brand" href="https://namoo4u.github.io/">Just Do It!! YOLO</a>
            </div>
            <div class="navbar-collapse collapse navbar-responsive-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="https://namoo4u.github.io/">Home</a></li>
                    <li><a href="https://namoo4u.github.io//post/">Blog</a></li>
                    
                      <li><a href="https://namoo4u.github.io/page/about/"> About </a></li>
                    
                </ul>
            </div>
        </div>
    </div>
</div>



<div class="container">
	<div class="row">
		<div class="col-md-offset-1 col-md-10">
			<h3>Lambda expressions and Stream API with Groovy or JAVA8</h3>
				<span class="label label-primary">2016.11.11</span> in 
				
					
					<a href="https://namoo4u.github.io/categories/groovy">groovy</a>
				
					 , 
					<a href="https://namoo4u.github.io/categories/programming">programming</a>
				 using tags
				
					
					<a href="https://namoo4u.github.io/tags/groovy">groovy</a>
				
					 , 
					<a href="https://namoo4u.github.io/tags/lambda-expressions">lambda expressions</a>
				
					 , 
					<a href="https://namoo4u.github.io/tags/stream-api">stream api</a>
				
			</small>
		</div>
	</div>
	<div class="row">
		<div class="col-md-offset-1 col-md-10">
			<br>
			

<h3 id="lambda-expressions-and-stream-api-with-groovy-and-java-8">Lambda expressions and Stream API with Groovy and JAVA 8</h3>

<h4 id="iteration">Iteration</h4>

<ul>
<li>groovy</li>
</ul>

<pre><code class="language-groovy">def numbers = [1, 2, 3, 4, 5, 6]
numbers.each { e -&gt; println e }
numbers.each { println it }
</code></pre>

<ul>
<li>java</li>
</ul>

<pre><code class="language-java">List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6);
numbers.forEach(e -&gt; System.out.println(e));
numbers.forEach(System.out::println);
</code></pre>

<h4 id="collect">collect</h4>

<ul>
<li>groovy</li>
</ul>

<pre><code>def numbers = [1, 2, 3, 4, 5, 6]
numbers.collect { it * 2 }.each { e -&gt; println e }
println numbers.collect { it * 2 }
</code></pre>

<ul>
<li>java 8</li>
</ul>

<pre><code class="language-java">List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6);
numbers.stream()
 .map(e -&gt; e * 2)
 .forEach(System.out::println);

System.out.println(
  numbers.stream()
   .map(e -&gt; e * 2)
   .collect(Collectors.toList()));
</code></pre>

<h4 id="find">find</h4>

<ul>
<li>groovy</li>
</ul>

<pre><code class="language-groovy">def numbers = [1, 2, 3, 4, 5, 6]
println numbers.find { it % 2 == 0}
</code></pre>

<ul>
<li>java 8</li>
</ul>

<pre><code class="language-java">List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6);

System.out.println(
    numbers.stream()
           .filter(e -&gt; e % 2 == 0)
           .findFirst());

System.out.println(
    numbers.stream()
           .filter(e -&gt; e % 2 == 0)
           .findFirst()
           .get());

System.out.println(
    numbers.stream()
           .filter(e -&gt; e % 2 == 0)
           .findFirst()
           .orElse(0));
</code></pre>

<h4 id="findall">findAll</h4>

<ul>
<li>groovy</li>
</ul>

<pre><code class="language-groovy">def numbers = [1, 2, 3, 4, 5, 6]
println numbers.findAll { it % 2 == 0}
</code></pre>

<ul>
<li>java 8</li>
</ul>

<pre><code class="language-java">List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6);
System.out.println(
  numbers.stream()
             .filter(e -&gt; e % 2 == 0)
             .collect(Collectors.toList()));
</code></pre>

<h4 id="inject">inject</h4>

<ul>
<li>groovy</li>
</ul>

<pre><code class="language-groovy">def numbers = [1, 2, 3, 4, 5, 6]
println numbers.collect { it * 2 }.inject(0) { c, e -&gt; c + e }
</code></pre>

<ul>
<li>java 8</li>
</ul>

<pre><code class="language-java">List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6);

System.out.println(
  numbers.stream()
             .map(e -&gt; e * 2)
             .reduce(0, (c, e) -&gt; c + e));

System.out.println(
  numbers.stream()
             .map(e -&gt; e * 2)
             .reduce(0, Math::addExact));
</code></pre>

<h4 id="join">join</h4>

<ul>
<li>groovy</li>
</ul>

<pre><code>def names = [‘Jack’, ‘Sara’, ‘Jill’]
println names.collect {it.toUpperCase() }.join(‘, ‘)
</code></pre>

<ul>
<li>java 8</li>
</ul>

<pre><code class="language-java">List&lt;String&gt; names = Arrays.asList(“Jack”, “Sara”, “Jill”);

System.out.println(
  names.stream()
           .map(String::toUpperCase)
           .collect(joining(“, “)));
</code></pre>

<h4 id="lazy-evalution">lazy evalution</h4>

<ul>
<li>java 8</li>
</ul>

<pre><code class="language-java">public class Sample {
  public static boolean isGT3(int number) {
    System.out.println(“isGT3 ” + number);
    return number &gt; 3;
  }

  public static boolean isEven(int number) {
    System.out.println(“isEven ” + number);
    return number % 2 == 0;
  }

  public static int doubleIt(int number) {
    System.out.println(“doubleIt ” + number);
    return number * 2;
  }

  public static void main(String[] args) {
    List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 5, 4, 6, 7, 8, 9, 10);
    int result = numbers.stream()
                        .filter(Sample::isGT3)
                        .filter(Sample::isEven)
                        .map(Sample::doubleIt)
                        .findFirst()
                        .get();

    System.out.println(“Result: ” + result);
    System.out.println(“Let’s see the effect of laziness”);
    numbers.stream()
           .filter(Sample::isGT3)
           .filter(Sample::isEven)
           .map(Sample::doubleIt);

    System.out.println(“No work expended”);

  }
}
</code></pre>

<h4 id="infinite-series">infinite series</h4>

<ul>
<li>java 8</li>
</ul>

<pre><code class="language-java">import java.util.*;
import java.util.stream.Stream;
import static java.util.stream.Collectors.toList;

public class Sample {
  public static List&lt;Integer&gt; seriesOfDouble(int size) {
      return Stream.iterate(1, e -&gt; e * 2)
                   .limit(size)
                   .collect(toList());
  }

  public static void main(String[] args) {
      System.out.println(seriesOfDouble(5));
      System.out.println(seriesOfDouble(10));
  }
}
</code></pre>

<h4 id="parallel-collections">parallel collections</h4>

<ul>
<li>java 8</li>
</ul>

<pre><code class="language-java">import java.util.*;
import java.util.stream.Stream;

public class Sample {
  public static int doubleIt(int number) {
        try { Thread.sleep(1000); } catch(Exception ex) {} //assume a computation intensive code here
        return number * 2;
  }

  public static int doubleAndTotal(Stream&lt;Integer&gt; values) {
        long start = System.nanoTime();
        try {
          return values.mapToInt(Sample::doubleIt)
                       .sum();
        } finally {
          long end = System.nanoTime();
          System.out.println(“Time taken (s): ” + (end – start) / 1.0e9);
        }
  }

  public static void main(String[] args) {
        List&lt;Integer&gt; numbers = Arrays.asList(1, 2, 3, 4, 5, 6, 7, 8, 9, 10);

        System.out.println(doubleAndTotal(numbers.stream()));
        System.out.println(doubleAndTotal(numbers.parallelStream()));
  }
}
</code></pre>

<h4 id="invoke-dynamic">invoke dynamic</h4>

<ul>
<li>java 8</li>
</ul>

<pre><code class="language-java">import java.util.*;

public class UsingLambdas {
  public static void main(String[] args) {
        List&lt;Integer&gt; values = Arrays.asList(1, 2, 3);
        values.forEach(e -&gt; System.out.println(e));
        values.forEach(e -&gt; System.out.println(e));
        values.forEach(e -&gt; System.out.println(e));
        values.forEach(e -&gt; System.out.println(e));
        values.forEach(e -&gt; System.out.println(e));
  }
}

//javac UsingLambdas
//ls (or dir)
//See the lack of inner classes.
//Do javap -c UsingLambdas
//examine the bytecode and look for invokedynamic
//now remove the .class files before procedding to the other example
</code></pre>

<h4 id="new-groovy">new (Groovy)</h4>

<ul>
<li>groovy</li>
</ul>

<pre><code class="language-groovy">boolean isGT3(int number) {
  println “isGT3 $number”
  number &gt; 3
}

boolean isEven(int number) {
  println “isEven $number”
  number % 2 == 0
}

int doubleIt(int number) {
  println “doubleIt $number”
  number * 2
}

def numbers = [1, 2, 3, 5, 4, 6, 7, 8, 9, 10]
//traditional Groovy functional style is eager.
def eagerResult = numbers.findAll { isGT3(it) }.findAll { isEven(it) }.collect { doubleIt(it) }.find { it }
println “Eager Result: $eagerResult”
//We can use Java 8 Streams and be lazy – meaning efficient
def result = numbers.stream()
                        .filter { isGT3(it) }
                        .filter { isEven(it) }
                        .map { doubleIt(it) }
                        .findFirst()
                        .get()
println “Result: $result”
println “Let’s see the effect of laziness”
numbers.stream()
           .filter { isGT3(it) }
           .filter { isEven(it) }
           .map { doubleIt(it) }
println “No work expended”
</code></pre>

		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<hr>
		</div>
	</div>
</div>

    <div class="container">
        <div class="row col-md-12">
            <footer>
                <div class="pull-left">
                    <p>
                        &copy; JHwang All rights reserved ~ Powered By <a href="http://hugo.spf13.com">Hugo</a> - version: 0.38.2 ~ <a href="https://namoo4u.github.io//license">License</a>
                    </p>
                </div>

                
                <div class="pull-right">
                    
                        <a href="https://www.linkedin.com/in/namoo4u" target="_blank">
                        <i class="fa fa-linkedin fa-2x"></i></a>
                    
                    
                        <a href="https://www.facebook.com/jupilhwang" target="_blank">
                        <i class="fa fa-facebook-square fa-2x"></i></a>
                    
                    
                        <a href="https://twitter.com/namoo4u" target="_blank">
                        <i class="fa fa-twitter-square fa-2x"></i></a>
                    
                    
                        <a href="https://github.com/namoo4u" target="_blank">
                        <i class="fa fa-github-square fa-2x"></i></a>
                    
                    
                    
                    
                </div>
            </footer>
        </div>
    </div>

    
    </body>
</html>

